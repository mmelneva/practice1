{"__meta":{"id":"9934ee343f8a6b475f2325d5264d8cd9","datetime":"2023-02-02 17:52:33","utime":1675349553.6488,"method":"GET","uri":"\/","ip":"172.18.0.1"},"php":{"version":"5.4.45"},"messages":{"count":1,"messages":[{"message":"[17:52:32] LOG.error: exception 'PDOException' with message 'SQLSTATE[HY000] [2002] Connection refused' in \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/Connector.php:47\nStack trace:\n#0 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/Connector.php(47): PDO->__construct('mysql:host=127....', 'root', 'root', Array)\n#1 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/MySqlConnector.php(20): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=127....', Array, Array)\n#2 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/ConnectionFactory.php(57): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array)\n#3 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/ConnectionFactory.php(46): Illuminate\\Database\\Connectors\\ConnectionFactory->createSingleConnection(Array)\n#4 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/DatabaseManager.php(176): Illuminate\\Database\\Connectors\\ConnectionFactory->make(Array, 'mysql')\n#5 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/DatabaseManager.php(64): Illuminate\\Database\\DatabaseManager->makeConnection('mysql')\n#6 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Eloquent\/Model.php(2922): Illuminate\\Database\\DatabaseManager->connection(NULL)\n#7 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Eloquent\/Model.php(2888): Illuminate\\Database\\Eloquent\\Model::resolveConnection(NULL)\n#8 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Eloquent\/Model.php(1849): Illuminate\\Database\\Eloquent\\Model->getConnection()\n#9 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Eloquent\/Model.php(1790): Illuminate\\Database\\Eloquent\\Model->newBaseQueryBuilder()\n#10 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Eloquent\/Model.php(1764): Illuminate\\Database\\Eloquent\\Model->newQueryWithoutScopes()\n#11 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Eloquent\/Model.php(640): Illuminate\\Database\\Eloquent\\Model->newQuery()\n#12 \/srv\/projects\/Task\/app\/services\/Settings\/SettingGetter.php(23): Illuminate\\Database\\Eloquent\\Model::all()\n#13 [internal function]: App\\Services\\Settings\\SettingGetter->__construct(Object(App\\Services\\Settings\\SettingContainer), Object(App\\Models\\Setting))\n#14 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Container\/Container.php(539): ReflectionClass->newInstanceArgs(Array)\n#15 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Container\/Container.php(428): Illuminate\\Container\\Container->build('App\\\\Services\\\\Se...', Array)\n#16 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Application.php(462): Illuminate\\Container\\Container->make('App\\\\Services\\\\Se...', Array)\n#17 \/srv\/projects\/Task\/app\/services\/Providers\/SettingsServiceProvider.php(328): Illuminate\\Foundation\\Application->make('App\\\\Services\\\\Se...')\n#18 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Container\/Container.php(214): App\\Services\\Providers\\SettingsServiceProvider->App\\Services\\Providers\\{closure}(Object(Illuminate\\Foundation\\Application))\n#19 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Container\/Container.php(501): Illuminate\\Container\\Container->Illuminate\\Container\\{closure}(Object(Illuminate\\Foundation\\Application), Array)\n#20 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Container\/Container.php(428): Illuminate\\Container\\Container->build(Object(Closure), Array)\n#21 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Application.php(462): Illuminate\\Container\\Container->make('setting_getter', Array)\n#22 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Container\/Container.php(806): Illuminate\\Foundation\\Application->make('setting_getter')\n#23 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Support\/Facades\/Facade.php(146): Illuminate\\Container\\Container->offsetGet('setting_getter')\n#24 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Support\/Facades\/Facade.php(116): Illuminate\\Support\\Facades\\Facade::resolveFacadeInstance('setting_getter')\n#25 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Support\/Facades\/Facade.php(200): Illuminate\\Support\\Facades\\Facade::getFacadeRoot()\n#26 \/srv\/projects\/Task\/app\/services\/Filters\/RedirectsFilter.php(32): Illuminate\\Support\\Facades\\Facade::__callStatic('get', Array)\n#27 \/srv\/projects\/Task\/app\/services\/Filters\/RedirectsFilter.php(32): App\\Services\\Facades\\SettingGetterFacade::get('redirects.rules')\n#28 \/srv\/projects\/Task\/app\/services\/Filters\/RedirectsFilter.php(12): App\\Services\\Filters\\RedirectsFilter->getRuleList()\n#29 [internal function]: App\\Services\\Filters\\RedirectsFilter->filter(Object(Illuminate\\Http\\Request), NULL)\n#30 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Events\/Dispatcher.php(323): call_user_func_array(Array, Array)\n#31 [internal function]: Illuminate\\Events\\Dispatcher->Illuminate\\Events\\{closure}(Object(Illuminate\\Http\\Request), NULL)\n#32 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Events\/Dispatcher.php(199): call_user_func_array(Object(Closure), Array)\n#33 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Events\/Dispatcher.php(154): Illuminate\\Events\\Dispatcher->fire('router.before', Array, true)\n#34 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php(1308): Illuminate\\Events\\Dispatcher->until('router.before', Array)\n#35 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php(997): Illuminate\\Routing\\Router->callFilter('before', Object(Illuminate\\Http\\Request))\n#36 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Application.php(781): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#37 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Application.php(745): Illuminate\\Foundation\\Application->dispatch(Object(Illuminate\\Http\\Request))\n#38 \/srv\/projects\/Task\/vendor\/barryvdh\/laravel-debugbar\/src\/Middleware\/Stack.php(34): Illuminate\\Foundation\\Application->handle(Object(Illuminate\\Http\\Request), 1, true)\n#39 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Session\/Middleware.php(72): Barryvdh\\Debugbar\\Middleware\\Stack->handle(Object(Illuminate\\Http\\Request), 1, true)\n#40 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Cookie\/Queue.php(47): Illuminate\\Session\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n#41 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Cookie\/Guard.php(51): Illuminate\\Cookie\\Queue->handle(Object(Illuminate\\Http\\Request), 1, true)\n#42 \/srv\/projects\/Task\/vendor\/stack\/builder\/src\/Stack\/StackedHttpKernel.php(23): Illuminate\\Cookie\\Guard->handle(Object(Illuminate\\Http\\Request), 1, true)\n#43 \/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Application.php(641): Stack\\StackedHttpKernel->handle(Object(Illuminate\\Http\\Request))\n#44 \/srv\/projects\/Task\/public\/index.php(49): Illuminate\\Foundation\\Application->run()\n#45 {main}","is_string":false,"label":"error","time":1675349552.7088,"collector":"log"}]},"time":{"start":1675349549.3907,"end":1675349553.6488,"duration":4.2581901550293,"duration_str":"4.26s","measures":[{"label":"Booting","start":1675349549.3907,"relative_start":0,"end":1675349552.5801,"relative_end":1675349552.5801,"duration":3.1894631385803,"duration_str":"3.19s","params":[],"collector":null}]},"memory":{"peak_usage":14155776,"peak_usage_str":"13.5MB"},"exceptions":{"count":5,"exceptions":[{"type":"Exception","message":"Cannot add listen to Queries for Laravel Debugbar: SQLSTATE[HY000] [2002] Connection refused","code":2002,"file":"\/srv\/projects\/Task\/vendor\/barryvdh\/laravel-debugbar\/src\/LaravelDebugbar.php","line":306,"surrounding_lines":["                );\n","            } catch (\\Exception $e) {\n","                $this->addException(\n","                    new Exception(\n","                        'Cannot add listen to Queries for Laravel Debugbar: ' . $e->getMessage(),\n","                        $e->getCode(),\n","                        $e\n"]},{"type":"PDOException","message":"SQLSTATE[HY000] [2002] Connection refused","code":2002,"file":"\/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/Connector.php","line":47,"surrounding_lines":["\n","\t\t$password = array_get($config, 'password');\n","\n","\t\treturn new PDO($dsn, $username, $password, $options);\n","\t}\n","\n","\t\/**\n"]},{"type":"Exception","message":"Cannot add MailCollector to Laravel Debugbar: SQLSTATE[HY000] [2002] Connection refused","code":2002,"file":"\/srv\/projects\/Task\/vendor\/barryvdh\/laravel-debugbar\/src\/LaravelDebugbar.php","line":327,"surrounding_lines":["                }\n","            } catch (\\Exception $e) {\n","                $this->addException(\n","                    new Exception(\n","                        'Cannot add MailCollector to Laravel Debugbar: ' . $e->getMessage(), $e->getCode(), $e\n","                    )\n","                );\n"]},{"type":"PDOException","message":"SQLSTATE[HY000] [2002] Connection refused","code":2002,"file":"\/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/Connector.php","line":47,"surrounding_lines":["\n","\t\t$password = array_get($config, 'password');\n","\n","\t\treturn new PDO($dsn, $username, $password, $options);\n","\t}\n","\n","\t\/**\n"]},{"type":"PDOException","message":"SQLSTATE[HY000] [2002] Connection refused","code":2002,"file":"\/srv\/projects\/Task\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connectors\/Connector.php","line":47,"surrounding_lines":["\n","\t\t$password = array_get($config, 'password');\n","\n","\t\treturn new PDO($dsn, $username, $password, $options);\n","\t}\n","\n","\t\/**\n"]}]},"views":{"nb_templates":0,"templates":[]},"route":[],"queries":{"nb_statements":0,"nb_failed_statements":0,"accumulated_duration":0,"accumulated_duration_str":"0\u03bcs","statements":[]},"request":{"format":"html","content_type":"text\/html","status_text":"Internal Server Error","status_code":"500","request_query":"[]","request_request":"[]","request_headers":"array:19 [\n  \"content-type\" => array:1 [\n    0 => \"\"\n  ]\n  \"content-length\" => array:1 [\n    0 => \"\"\n  ]\n  \"host\" => array:1 [\n    0 => \"task.localhost\"\n  ]\n  \"connection\" => array:1 [\n    0 => \"keep-alive\"\n  ]\n  \"cache-control\" => array:1 [\n    0 => \"max-age=0\"\n  ]\n  \"sec-ch-ua\" => array:1 [\n    0 => \"\"Not_A Brand\";v=\"99\", \"Google Chrome\";v=\"109\", \"Chromium\";v=\"109\"\"\n  ]\n  \"sec-ch-ua-mobile\" => array:1 [\n    0 => \"?0\"\n  ]\n  \"sec-ch-ua-platform\" => array:1 [\n    0 => \"\"Windows\"\"\n  ]\n  \"dnt\" => array:1 [\n    0 => \"1\"\n  ]\n  \"upgrade-insecure-requests\" => array:1 [\n    0 => \"1\"\n  ]\n  \"user-agent\" => array:1 [\n    0 => \"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/109.0.0.0 Safari\/537.36\"\n  ]\n  \"accept\" => array:1 [\n    0 => \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/avif,image\/webp,image\/apng,*\/*;q=0.8,application\/signed-exchange;v=b3;q=0.9\"\n  ]\n  \"sec-fetch-site\" => array:1 [\n    0 => \"none\"\n  ]\n  \"sec-fetch-mode\" => array:1 [\n    0 => \"navigate\"\n  ]\n  \"sec-fetch-user\" => array:1 [\n    0 => \"?1\"\n  ]\n  \"sec-fetch-dest\" => array:1 [\n    0 => \"document\"\n  ]\n  \"accept-encoding\" => array:1 [\n    0 => \"gzip, deflate, br\"\n  ]\n  \"accept-language\" => array:1 [\n    0 => \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\"\n  ]\n  \"cookie\" => array:1 [\n    0 => \"test=eyJpdiI6IjJ5b2R4aEx0bFNDcTEwYWIrTE1aYUE9PSIsInZhbHVlIjoid01MRTMrZTZTWVh4cWRKY3RzaHZFbFQ4WFVOcVlrS0h1RHhacXgzMUhERFBuczNVQ3JoOWhqU3NJMW8wME8xOW1CMXRnY09FazhNczhwMDV1NXQzSXc9PSIsIm1hYyI6IjVjMGIxNmY2MzlhOWYyNjc1YzUwMjgzNzAxMDJjN2FlNzU3MThhNzE3ZjhiZmE4MTBhMzg4OTgyNTM1OTFiYTkifQ%3D%3D\"\n  ]\n]","request_server":"array:54 [\n  \"PATH\" => \"\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin\"\n  \"HOSTNAME\" => \"ffb5d5bfd4b2\"\n  \"PHP_INI_DIR\" => \"\/usr\/local\/etc\/php\"\n  \"PHP_EXTRA_CONFIGURE_ARGS\" => \"--enable-fpm --with-fpm-user=www-data --with-fpm-group=www-data\"\n  \"GPG_KEYS\" => \"F38252826ACD957EF380D39F2F7956BC5DA04B5D\"\n  \"PHP_VERSION\" => \"5.4.45\"\n  \"COMPOSER_ALLOW_SUPERUSER\" => \"1\"\n  \"USER\" => \"test-task\"\n  \"UID\" => \"1000\"\n  \"GID\" => \"1000\"\n  \"HOME\" => \"\/home\/test-task\"\n  \"FCGI_ROLE\" => \"RESPONDER\"\n  \"QUERY_STRING\" => \"\"\n  \"REQUEST_METHOD\" => \"GET\"\n  \"CONTENT_TYPE\" => \"\"\n  \"CONTENT_LENGTH\" => \"\"\n  \"SCRIPT_NAME\" => \"\/index.php\"\n  \"REQUEST_URI\" => \"\/\"\n  \"DOCUMENT_URI\" => \"\/index.php\"\n  \"DOCUMENT_ROOT\" => \"\/srv\/projects\/Task\/public\"\n  \"SERVER_PROTOCOL\" => \"HTTP\/1.1\"\n  \"REQUEST_SCHEME\" => \"http\"\n  \"GATEWAY_INTERFACE\" => \"CGI\/1.1\"\n  \"SERVER_SOFTWARE\" => \"nginx\/1.23.3\"\n  \"REMOTE_ADDR\" => \"172.18.0.1\"\n  \"REMOTE_PORT\" => \"55828\"\n  \"SERVER_ADDR\" => \"172.18.0.5\"\n  \"SERVER_PORT\" => \"80\"\n  \"SERVER_NAME\" => \"test.localhost\"\n  \"REDIRECT_STATUS\" => \"200\"\n  \"SCRIPT_FILENAME\" => \"\/srv\/projects\/Task\/public\/index.php\"\n  \"PATH_INFO\" => \"\"\n  \"HTTP_HOST\" => \"task.localhost\"\n  \"HTTP_CONNECTION\" => \"keep-alive\"\n  \"HTTP_CACHE_CONTROL\" => \"max-age=0\"\n  \"HTTP_SEC_CH_UA\" => \"\"Not_A Brand\";v=\"99\", \"Google Chrome\";v=\"109\", \"Chromium\";v=\"109\"\"\n  \"HTTP_SEC_CH_UA_MOBILE\" => \"?0\"\n  \"HTTP_SEC_CH_UA_PLATFORM\" => \"\"Windows\"\"\n  \"HTTP_DNT\" => \"1\"\n  \"HTTP_UPGRADE_INSECURE_REQUESTS\" => \"1\"\n  \"HTTP_USER_AGENT\" => \"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/109.0.0.0 Safari\/537.36\"\n  \"HTTP_ACCEPT\" => \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/avif,image\/webp,image\/apng,*\/*;q=0.8,application\/signed-exchange;v=b3;q=0.9\"\n  \"HTTP_SEC_FETCH_SITE\" => \"none\"\n  \"HTTP_SEC_FETCH_MODE\" => \"navigate\"\n  \"HTTP_SEC_FETCH_USER\" => \"?1\"\n  \"HTTP_SEC_FETCH_DEST\" => \"document\"\n  \"HTTP_ACCEPT_ENCODING\" => \"gzip, deflate, br\"\n  \"HTTP_ACCEPT_LANGUAGE\" => \"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7\"\n  \"HTTP_COOKIE\" => \"test=eyJpdiI6IjJ5b2R4aEx0bFNDcTEwYWIrTE1aYUE9PSIsInZhbHVlIjoid01MRTMrZTZTWVh4cWRKY3RzaHZFbFQ4WFVOcVlrS0h1RHhacXgzMUhERFBuczNVQ3JoOWhqU3NJMW8wME8xOW1CMXRnY09FazhNczhwMDV1NXQzSXc9PSIsIm1hYyI6IjVjMGIxNmY2MzlhOWYyNjc1YzUwMjgzNzAxMDJjN2FlNzU3MThhNzE3ZjhiZmE4MTBhMzg4OTgyNTM1OTFiYTkifQ%3D%3D\"\n  \"PHP_SELF\" => \"\/index.php\"\n  \"REQUEST_TIME_FLOAT\" => 1675349549.3831\n  \"REQUEST_TIME\" => 1675349549\n  \"argv\" => []\n  \"argc\" => 0\n]","request_cookies":"array:1 [\n  \"test\" => \"650c53baf30337563c1884ff406b2c2708b8ae6c\"\n]","response_headers":"array:2 [\n  \"cache-control\" => array:1 [\n    0 => \"no-cache\"\n  ]\n  \"date\" => array:1 [\n    0 => \"Thu, 02 Feb 2023 14:52:33 GMT\"\n  ]\n]","path_info":"\/","session_attributes":"array:3 [\n  \"_token\" => \"MNCD1ldEsF36L37gY2mS6FU91v5CO659ozfhK8ox\"\n  \"PHPDEBUGBAR_STACK_DATA\" => []\n  \"flash\" => array:2 [\n    \"old\" => []\n    \"new\" => []\n  ]\n]"}}